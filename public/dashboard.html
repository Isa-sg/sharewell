<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - LinkedIn Content Distributor</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Team Dashboard</h1>
            <nav>
                <button onclick="goHome()">Home</button>
                <button onclick="goToAdmin()" id="adminBtn" class="hidden">Admin Panel</button>
                <button onclick="logout()">Logout</button>
            </nav>
        </header>

        <div class="main-content">
            <div class="quick-post-section">
                <h2>‚úèÔ∏è Quick Post</h2>
                <p>Create a custom post right here</p>
                <form id="quickPostForm">
                    <input type="text" placeholder="Post title..." id="quickTitle" required>
                    <textarea placeholder="Write your LinkedIn post here..." id="quickContent" rows="4" required></textarea>
                    <button type="submit">Create & Share</button>
                </form>
            </div>
            
            <div class="dashboard-section">
                <h2>üì∞ Available Posts</h2>
                <p>Click on any post to copy it and share on LinkedIn</p>
                <div id="dashboardPosts"></div>
            </div>
        </div>
    </div>

    <div id="postModal" class="modal hidden">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <div class="post-type-indicator" id="postTypeIndicator">üì∞ Original Post</div>
            <h3 id="modalTitle"></h3>
            <div id="modalContent"></div>
            <div id="modalImage"></div>
            
            <!-- AI Personalization Section -->
            <div class="personalization-section" id="personalizationSection">
                <button onclick="personalizePost()" id="personalizeBtn" class="personalize-btn">
                    ‚ú® Personalize Your Post
                </button>
                <div class="personalization-form hidden" id="personalizationForm">
                    <label for="templateSelect">Choose a personalization style:</label>
                    <select id="templateSelect">
                        <option value="">Select a template...</option>
                    </select>
                    <div class="personalization-buttons">
                        <button onclick="generatePersonalization()" id="generateBtn">Apply Template</button>
                        <button onclick="cancelPersonalization()" class="cancel-btn">Cancel</button>
                    </div>
                </div>
            </div>

            <!-- Personalized Content Area -->
            <div class="personalized-content hidden" id="personalizedContent">
                <h4>‚ú® Your Personalized Version:</h4>
                <div class="editable-content">
                    <textarea id="personalizedText" rows="8"></textarea>
                    <div class="editing-controls">
                        <button onclick="refinePost()" class="refine-btn">‚úèÔ∏è Ask AI to Refine</button>
                        <button onclick="usePersonalized()" class="use-btn">Use This Version</button>
                        <button onclick="backToOriginal()" class="back-btn">Back to Original</button>
                        <button onclick="tryDifferentTemplate()" class="template-btn">üîÑ Try Different Template</button>
                    </div>
                </div>
            </div>

            <!-- AI Generation Section -->
            <div class="ai-section" id="aiSection">
                <button onclick="showAIForm()" id="aiBtn" class="ai-btn">
                    ü§ñ Generate AI Version
                </button>
                <div class="ai-form hidden" id="aiForm">
                    <label for="aiStyleSelect">Choose AI writing style:</label>
                    <select id="aiStyleSelect">
                        <option value="professional">Professional & Authoritative</option>
                        <option value="casual">Casual & Conversational</option>
                        <option value="excited">Enthusiastic & Energetic</option>
                        <option value="technical">Technical & Detailed</option>
                    </select>
                    <div class="ai-buttons">
                        <button onclick="generateAIPost(currentPost ? currentPost.content : '', document.getElementById('aiStyleSelect').value)" id="aiGenerateBtn">ü§ñ Generate AI Version</button>
                        <button onclick="hideAIForm()" class="cancel-btn">Cancel</button>
                    </div>
                </div>
            </div>

            <!-- AI Generated Content Area -->
            <div class="ai-content hidden" id="aiGeneratedContent">
                <h4>ü§ñ AI Generated Version (Style: <span id="aiStyleUsed"></span>):</h4>
                <div class="ai-content-display">
                    <p id="aiContentText"></p>
                    <div class="ai-controls">
                        <button onclick="useAIVersion()" class="use-btn">Use AI Version</button>
                        <button onclick="copyAIContent()" class="copy-btn">Copy AI Content</button>
                        <button onclick="hideAIForm(); document.getElementById('aiGeneratedContent').classList.add('hidden')" class="back-btn">Back to Original</button>
                    </div>
                </div>
            </div>

            <!-- Custom AI Modification Section -->
            <div class="custom-ai-section" id="customAISection">
                <button onclick="showCustomAIForm()" id="customAIBtn" class="custom-ai-btn">
                    üéØ Ask AI to Modify Post
                </button>
                <div class="custom-ai-form hidden" id="customAIForm">
                    <label for="aiInstruction">Tell AI how to modify the post:</label>
                    <textarea id="aiInstruction" placeholder="e.g., Make it more exciting, Add more technical details, Make it shorter, Add a call to action..." rows="3"></textarea>
                    
                    <div class="quick-suggestions">
                        <span>Quick suggestions:</span>
                        <button type="button" onclick="fillAIInstruction('Make it more exciting and energetic')" class="suggestion-btn">More Exciting</button>
                        <button type="button" onclick="fillAIInstruction('Make it shorter and more concise')" class="suggestion-btn">Shorter</button>
                        <button type="button" onclick="fillAIInstruction('Add more technical details')" class="suggestion-btn">More Technical</button>
                        <button type="button" onclick="fillAIInstruction('Make it more professional')" class="suggestion-btn">More Professional</button>
                        <button type="button" onclick="fillAIInstruction('Add a strong call to action')" class="suggestion-btn">Add CTA</button>
                    </div>
                    
                    <div class="custom-ai-buttons">
                        <button onclick="modifyWithCustomAI()" id="customAIModifyBtn">üéØ Modify Post</button>
                        <button onclick="hideCustomAIForm()" class="cancel-btn">Cancel</button>
                    </div>
                </div>
            </div>

            <!-- Custom AI Result Area -->
            <div class="custom-ai-result hidden" id="customAIResult">
                <h4>üéØ Custom AI Modified (Request: "<span id="customAIResultInstruction"></span>"):</h4>
                <div class="custom-ai-display">
                    <p id="customAIResultText"></p>
                    <div class="custom-ai-controls">
                        <button onclick="useCustomAIVersion()" class="use-btn">Use This Version</button>
                        <button onclick="copyCustomAIContent()" class="copy-btn">Copy Content</button>
                        <button onclick="showCustomAIForm()" class="modify-again-btn">Modify Again</button>
                        <button onclick="document.getElementById('customAIResult').classList.add('hidden')" class="back-btn">Back</button>
                    </div>
                </div>
            </div>

            <div class="modal-actions">
                <button onclick="copyToClipboard()">Copy Post Content</button>
                <button onclick="markAsUsed()">Mark as Used</button>
                <button onclick="markAsPosted()" id="markPostedBtn" class="mark-posted-btn">Mark as Posted</button>
                <button onclick="postToLinkedIn()" id="linkedinPostBtn" class="linkedin-post-btn">Post to LinkedIn</button>
                <a href="#" id="linkedinLink" target="_blank">
                    <button>Open LinkedIn</button>
                </a>
            </div>
            
            <div class="linkedin-status" id="linkedinStatus">
                <p id="linkedinStatusText">Checking LinkedIn connection...</p>
                <button onclick="connectLinkedIn()" id="connectLinkedInBtn" class="hidden">Connect LinkedIn</button>
            </div>
        </div>
    </div>

    <script src="dashboard.js"></script>
</body>
</html>
